(this["webpackJsonprecipe-finder"]=this["webpackJsonprecipe-finder"]||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(10),c=n.n(r),o=(n(94),n(95),n(66),n(45)),l=n(11),s=n(38),d=n(39),m=n(18),u=n(47),g=n(46),p=n(29),h=n.n(p),f=(n(113),n(161)),E=n(162),b=n(163),v=n(167),I=n(165),y=n(164),x=n(168),S=n(166),j=n(158),w=n(52),k=n.n(w),O=n(51),R=n.n(O),B=n(177);function N(e,t){return i.a.createElement(j.a,{item:!0},e.map((function(e){return i.a.createElement(B.a,{key:e,style:{marginRight:"10px"},icon:!0!==t?i.a.createElement(R.a,null):i.a.createElement(k.a,null),label:e,color:!0!==t?"secondary":"primary"})})))}var U=Object(f.a)({root:{maxWidth:345,minWidth:220},media:{height:140}});function D(e){var t=U();return i.a.createElement(E.a,{className:t.root,key:e.id},i.a.createElement(b.a,null,i.a.createElement(y.a,{image:e.image,title:e.title,className:t.media}),i.a.createElement(I.a,null,i.a.createElement(S.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.title),i.a.createElement(j.a,{container:!0,spacing:1},i.a.createElement(j.a,{item:!0},N(e.usedIngredients,!0)),i.a.createElement(j.a,{item:!0},N(e.excludedIngredients,!1))))),i.a.createElement(v.a,null,i.a.createElement(x.a,{size:"small"},"Not interested"),i.a.createElement(x.a,{size:"small",color:"primary"},i.a.createElement(o.b,{to:{pathname:"/recipes/".concat(e.id),state:{usedIngredients:e.usedIngredients,excludedIngredients:e.excludedIngredients}}}," ","Learn More"," "))))}var C=n(174),L=n(169),A=n(81),M=n(170),T=n(175),W=function(e){Object(u.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={ingredients:[],currentIngredient:"",recipes:[],showSpinner:!1},a.onIngredientUpdate=a.onIngredientUpdate.bind(Object(m.a)(a)),a.onAddIngredient=a.onAddIngredient.bind(Object(m.a)(a)),a.onIngredientSubmit=a.onIngredientSubmit.bind(Object(m.a)(a)),a.convertIngredientsToString=a.convertIngredientsToString.bind(Object(m.a)(a)),a.recipeList=a.recipeList.bind(Object(m.a)(a)),a.onIngredientDelete=a.onIngredientDelete.bind(Object(m.a)(a)),a.filterUsedIngredients=a.filterUsedIngredients.bind(Object(m.a)(a)),a.filterExcludedIngredients=a.filterExcludedIngredients.bind(Object(m.a)(a)),a}return Object(d.a)(n,[{key:"onIngredientUpdate",value:function(e){this.setState({currentIngredient:e.target.value})}},{key:"onAddIngredient",value:function(e){e.preventDefault();var t=this.state.ingredients;t.push(this.state.currentIngredient),this.setState({ingredients:t,currentIngredient:""})}},{key:"convertIngredientsToString",value:function(){var e=this,t=[""],n="";this.state.ingredients.forEach((function(a){n=a!==e.state.ingredients[e.state.ingredients.length-1]?n+"+"+a:a,console.log(n),t.push(n),n=""})),(t=t.reverse()).pop(),console.log(t.toString());var a=t.join(",");this.setState({ingredientURL:t},(function(){e.onIngredientSubmit(a)}))}},{key:"recipeList",value:function(){var e=this;return i.a.createElement(j.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},this.state.recipes.map((function(t){var n=e.filterUsedIngredients(t),a=e.filterExcludedIngredients(t);return i.a.createElement(j.a,{item:!0},i.a.createElement(D,{title:t.title,image:t.image,id:t.id,usedIngredients:n,excludedIngredients:a}))})))}},{key:"onIngredientDelete",value:function(e){var t=this;this.setState({ingredients:this.state.ingredients.filter((function(t){return t!==e}))},(function(){t.convertIngredientsToString()}))}},{key:"filterUsedIngredients",value:function(e){var t=[];return e.usedIngredients.map((function(e){t.push(e.name)})),console.log(t),t}},{key:"filterExcludedIngredients",value:function(e){var t=[];return e.unusedIngredients.map((function(e){t.push(e.name)})),console.log(t),t}},{key:"onIngredientSubmit",value:function(e){var t=this;this.setState({showSpinner:!0}),h.a.get("https://api.spoonacular.com/recipes/findByIngredients?apiKey=".concat("b3b90124539845b4994232c45552727c","&ingredients=").concat(e,"&number=10")).then((function(e){console.log(e.data),t.setState({recipes:e.data,showSpinner:!1},(function(){console.log(t.state.recipes)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,!0===this.state.showSpinner?i.a.createElement(L.a,null):i.a.createElement("span",null),i.a.createElement(M.a,null,i.a.createElement("h3",null,"Search recipes"),i.a.createElement(A.a,null,i.a.createElement(T.a,{px:2},i.a.createElement(j.a,{className:"search-bar",container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:3},i.a.createElement(j.a,{item:!0},i.a.createElement(C.a,{variant:"filled",type:"text",label:"Ingredient",onChange:this.onIngredientUpdate,value:this.state.currentIngredient})),i.a.createElement(j.a,{item:!0},this.state.ingredients.length<3?i.a.createElement(x.a,{variant:"outlined",color:"primary",type:"submit",onClick:this.onAddIngredient},"Add Ingredient"):i.a.createElement(x.a,{disabled:!0,variant:"filled",color:"primary"},"Max Ingredients")),i.a.createElement(j.a,{item:!0},0!==this.state.ingredients.length?i.a.createElement(x.a,{variant:"contained",color:"primary",type:"submit",onClick:this.convertIngredientsToString},"Search Recipes"):i.a.createElement(x.a,{disabled:!0},"Search Recipes"))))),i.a.createElement(j.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},this.state.ingredients.map((function(t){return i.a.createElement(j.a,{item:!0},i.a.createElement(T.a,{pt:2},i.a.createElement(B.a,{label:t,onDelete:function(){e.onIngredientDelete(t)}})))}))),!1===this.state.showSpinner?this.recipeList():i.a.createElement("span",null)))}}]),n}(i.a.Component),K=n(171),F=n(172),G=n(173),z=n(79),J=n.n(z),$=Object(f.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var q=function(){var e=$();return i.a.createElement(K.a,{position:"static"},i.a.createElement(F.a,null,i.a.createElement(G.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},i.a.createElement(J.a,null)),i.a.createElement(S.a,{variant:"h6",className:e.title},"Recipeasy"),i.a.createElement(x.a,{color:"inherit"},"Login")))},H=n(4),P=function(e){Object(u.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={id:a.props.match.params.id,information:[],showSpinner:!1,usedIngredients:[],similarRecipes:[]},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state.usedIngredients,n=[];this.setState({showSpinner:!0,usedIngredients:t}),h.a.get("https://api.spoonacular.com/recipes/".concat(this.state.id,"/information?apiKey=").concat("b3b90124539845b4994232c45552727c","&includeNutrition=false")).then((function(t){e.setState({information:t.data,showSpinner:!1},(function(){}))})).catch((function(e){console.log(e)})),h.a.get("https://api.spoonacular.com/recipes/".concat(this.state.id,"/similar?apiKey=").concat("b3b90124539845b4994232c45552727c")).then((function(e){for(var t=e.data.length;t<e.data.length;t++)return n.push(e.data[t].id),h.a.get("https://api.spoonacular.com/recipes/".concat(n,"/information?apiKey=").concat("b3b90124539845b4994232c45552727c","&includeNutrition=false")).then((function(e){console.log(e.data)})).catch((function(e){console.log("Error fetching recipe by ID"+e)}))})).catch((function(e){console.log("Error finding similar recipes"+e)}))}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",null,!1!==this.state.showSpinner?i.a.createElement(L.a,null):i.a.createElement("span",null),i.a.createElement(T.a,{my:4},i.a.createElement(M.a,null,i.a.createElement(T.a,{py:2,px:4,display:"flex",justifyContent:"center"},i.a.createElement(A.a,{elevation:3,className:e.mainRecipe},i.a.createElement(j.a,{container:!0,justify:"flex-start",alignItems:"flex-start",spacing:1},i.a.createElement(j.a,{item:!0},i.a.createElement("img",{style:{maxWidth:400},src:this.state.information.image||"https://cookthestory.com/wp-content/uploads/2016/08/how-to-grill-chicken.jpg",alt:"Image of"+this.state.information.title||!1})),i.a.createElement(T.a,{px:3},i.a.createElement(j.a,{container:!0,spacing:1,direction:"column"},i.a.createElement(j.a,{item:!0},i.a.createElement(S.a,{variant:"h4",gutterBottom:!0},this.state.information.title||"Grilled Chicken")),i.a.createElement(j.a,{item:!0},N(this.state.usedIngredients,!0)),i.a.createElement(j.a,{item:!0},i.a.createElement("ul",{style:{padding:"15px"}},i.a.createElement("li",{style:{padding:"0px"}},i.a.createElement(S.a,{variant:"subtitle1",gutterBottom:!0},"Ready in "+this.state.information.readyInMinutes+" minutes. "))))))))),i.a.createElement(T.a,{mt:3},i.a.createElement(S.a,{variant:"h4"},"Similar Recipes"),i.a.createElement(A.a,null,i.a.createElement(T.a,{px:2,py:2},i.a.createElement("p",null,this.state.similarRecipes.length)))))))}}]),n}(i.a.Component),Q=Object(H.a)({root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:48,padding:"0 30px"},mainRecipe:{padding:"35px"}})(P);var V=function(){return i.a.createElement(o.a,null,i.a.createElement(q,null),i.a.createElement(l.a,{path:"/",exact:!0,component:W}),i.a.createElement(l.a,{path:"/recipes/:id",component:Q}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,t,n){},89:function(e,t,n){e.exports=n(120)},94:function(e,t,n){},95:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"}},[[89,1,2]]]);
//# sourceMappingURL=main.cf95bcef.chunk.js.map